- NoSQL, RDB, in-memory
### RDS
- 백업
	- 자동백업(Automated backup)
		- 백업 수행 기간 설정
		- DB 인스턴스를 특정 시점으로 복구 가능
		- 트랜잭션 로그를 5분마다 백업, 최소 5분전 시점으로 복구 가능
		- 비활성화하려면 보존 기간을 0으로 설정
	- 데이터베이스 스냅샷(DB Snapshots)
		- 사용자가 수동으로 스냅샷 생성
		- 지정한 기간만큼 보관 가능

	- 백업하면 새로운 엔드포인트를 가지는 새 DB인스턴스가 생성된다

- 보안
	- SSL/TLS 암호화
	- KMS로 DB 저장 중 암호화 가능
	- 기존 인스턴스 암호화 하려면 스냅샷만들어서 새 인스턴스 생성
	- RDS Audit Logs로 로그 저장

- 읽기 전용 복제본(Read Replica)
	- 읽기만 가능한 DB 인스턴스의 복제본을 만드는 기능
	- 저장과 읽기를 분리해서 성능 향상
	- 사용하려면 백업이 활성화된 상태가 유지되야 한다

- 다중 AZ
	- DB를 여러 가용역역에 배치, 가용성 향상
	- 평소에는 대기, 장애 발생시에만 자동 연결

- RDS Custom
	- EC2, RDS를 설치하여 구성하는 경우 사용자가 서버를 포한한 모든 부분 관리

- RDS Proxy
	- 애플리케이션이 데이터베이스와 연결 풀링하고 공유하도록 하는 기능
		- 여러 애플리케이션 연결에서 DB 연결을 공유, 리소스를 효율적으로 사용
	- 장애 발생시 애플리케이션 연결을 유지하면서 예비DB 인스턴스에 자동 연결가능
	- IAM 적용 및 AWS Secrets Manager에 보안 인증 정보를 저장가능
	- 매번 DB 연결 풀 설정이나 연결에 필요한 리소스 소모가 없기 때문에 성능을 유지 할 수 있다
	- DB 연결 수 제어 가능

### Aurora
- RDS 호환형 관계형 데이터베이스
	- 읽기전용 복제본, KMS 암호화, 스냅샷 백업, 오토스케일링 등을 제공

- Aurora DB 클러스터
	- 하나 이상의 DB인스턴스와 인스턴스의 데이터를 관리하는 볼륨 구성
	- 인스턴스는 읽기/쓰기 인스턴스와 읽기전용 복제본으로 구성

- Aurora 복제본(replicas)
	- 3개의 가용영역의 6개의 데이터 사본을 자동복제해서 가용성과 성능향상
	- 마스터 DB 장애 발생시 최대 30초 이내에 복제본 중 하나가 기본 인스턴스 역할로 변경 되는 장애조치 가능
	- 복제본 auto scaling 가능

- Aurora 글로벌 데이터베이스
	- 다른 리전으로 DB르리 복제하는 기능
	- RTO1분 : 마스터 장애 발생시 1분 이내에 승격 가능


- Aurora Database Cloning
	- 현재 Aurora DB *클러스터*를 복제하여 원본과 동일 데이터를 갖는 새 Aurora DB 클러스터를 생성하는 기능
		- Snapshot을 만들고 복원하는 것보다 빠르고 비용 효율적
	- 운영 DB를 개발/테스트 용도의 StagingDB 클러스터로 생성할 수 있다


- 멀티 마스터 클러스터 : 모든 DB 인스턴스가 읽기/쓰기 가능
	- 장애 발생시 읽기전용 인스턴스를 새 라이터로 승격
- 단일 마스터 클러스 : 단일 DB 인스턴스는 마스터 이외의 모든 DB가 읽기 전용
	- 장애 발생시 지연없음

- Aurora Serverless 
	- DB 사용량에 따라서 자동으로 스케일링
	- 사용한 만큼 과금



### ElastiCache
- 인메모리 데이터 스토어(1밀리초 응답)
	- 기존 DB의 응답성능 개선을 위해 사용
		- 세션 스토어, 게임 리더보드, 스트리밍, 분석등 내구성이 필요없는 데이터 스토어
	- 애플리케이션의 코드변경이 필수이다

- Redis(싱글 쓰레드), Memcached(멀티 쓰레드)  두가지 툴을 지원

### Dynamo DB
- NoSQL(키-값), 서버리스, Auto Scailing, 10밀리초 내 응답, 초당 수백만 요청 처리
	- 장바구니, 은행 트랜잭션, 게임 플레이어 기록저장등에 사용

- 백업 및 복구
- 테이블 클래스
- 읽기/쓰기 용량 모드
	- 온디맨드, 프로비전드
- DAX(DaynamoDB Accelerator)
	- DB 앞에 인 메모리 캐시 사용, 성능 향상
	- 마이크로 초 단위의 응답시간 제공
- TTL(Time to Live)
	- 시간 지나면 테이블에서 데이터 삭제

- 글로벌 테이블
	- 리전간 DB 복제
	- 모든 리전에서 읽기/쓰기

- DynamoDB Streams
	- DB 테이블에 저장된 항목에 변경이 발생하는 경우 변경 사항을 캡쳐하는 기능
	- 이벤트 발생시 특정 동작을 트리거 할 수 있다(알림 등)

- 읽기 일관성
	- 최종적 일관된 읽기(기본값)
	- 강력한 일관된 읽기

- S3로 내보내기 가능


### Other Databases
- Amazon DocumentDB : MongoDB를 호환하는 Document Database
- Amazon Keyspaces : Apache Cassandra 호환 DB
- Amazon Deptune : 그래프 데이터베이스 서비스
- Amazon Quantum Ledger DB(QLDB) : 변경사항을 모두 저장
- Amazon TimeStream : 시간에 따라 저장되는 DB



## DB 비교
| 데이터베이스 유형 | 사용 사례                                 | 서비스                   |
| --------- | ------------------------------------- | --------------------- |
| 관계형       | ERP, CRM, 전자거래 등                      | Aurora, RDS, Redshift |
| 키 - 값     | 높은 트래픽, 전자거래, 게임 앱                    | Dynamo DB             |
| 인 메모리     | 캐싱, 세션, 순위, 지리 공간 등                   | ElastiCache           |
| 문서        | 콘텐츠 관리, 카탈로그, 사용자 프로필                 | Document DB           |
| 와이드 컬럼    | 장비 관리, 플릿 관리 및 경로 최적화에 사용하는 대규모 산업용 앱 | Keyspaces             |
| 그래프       | 부정 탐지, SNS, 추천 엔진                     | Neptune               |
| 시계열       | IoT, DevOps                           | Timestream            |
| 원장        | 레코드 시스템, 공급망, 등록, 은행거래                | QLDB                  |


### Database Migration Service(DMS)
- DB 마이그레이션 서비스
- DB사용중에도 가능, 같거나 다른 종류의 DB모두 가능
- 다른 DB의 경우 SCT(Schema Conversion Tool)을 활용해서 데이터 스키마를 변경해야 한다