#### 개요
- 저장 방식
	- 오브젝트 스토리지 : 오브젝트라는 개별 유닛에 데이터 저장
		- 고유 식별자 혹은 키가 있어서 분산 시스템이어도 데이터를 찾을 수 있다
		- S3
	- 블록 스토리지 : 고정된 사이즈에 블록으로 나누고 식별자와 함께 저장
		- 블록이 식별자를 가지고 있다
		- EBS

	- 파일 스토리지 : 계층적 파일 디렉터리 내의 폴더에서 파일로 저장
		- EFS, FSx

- S3
	- 대부분의 경우 최소 3개의 가용영역에 분산저장 -> 성능, 확장성, 가용성, 내구성이 높다
	- 버킷 : 오브젝트 저장공간
		- 리전단위 생성
		- 이름으로 유니크한 식별자 사용해야됨
	- 객체 : 오브젝트
		- 개별 최대사이즈 5TB

#### 버전 관리
- 동일한 파일이름으로 업로드하면 여러 버전으로 저장된다
- 덮어쓰거나 삭제한 경우에 복구가능
- MFA Delete를 설정해서 다른 보안 계층 추가 가능
- 버전 관리 기능 활성화 필요

#### 데이터 암호화
- 서버 측 암호화(SSE - Server Side Encryption)
	- 데이터가 저장되기 전에 암호화
	- 유형
		- SSE-S3 : S3에서 관리하는 암호화
		- SSE-KMS, DSSE-KMS : AWS KMS에서 관리하는 암호화
		- SSE-C : 사용자가 관리(HTTPS필수)
			
- 클라이언트 측 암호화
	- 데이터 전송전 클라이언트 사이드에서 암호화
- 전송중 암호화
	- 전송 보안 프로토콜 SSL/TLS
	- HTTPS를 사용해서 전송

#### 액세스 관리
버킷과 객체에 대한 액세스
- 버킷 정책
	- JSON
- 퍼블릭 액세스 차단 
	- 버킷과 객체에 대한 퍼블릭 액세스 설정(차단이 기본값)
- ACL(엑세스 제어 목록)
	- aws 계정의 버킷,객체 읽기/쓰기 권한 설정
	- 객체별로 제어가 필요한 경우가 아니면 비활성화 권장

#### 정적 웹사이트 호스팅
...
#### CORS
...
#### Replication
S3 버킷 간에 객체 자동 복제 기능
- 교차 리전 복제(CPR)
	- 재해복구..
- 동일 리전 복제(SRR)
	- 법적 준수사항으로 같은 리전안에 만들어야 하는 경우..

- 버전 관리가 활성화 되어있어야 한다
- 다른 계정으로 복제가능 

#### 스토리지 클래스
 - Standard(범용)
 - Intellignet-Tiering(액세스 패턴을 알수 없거나 예측할 수 없는 데이터용)
	 - 모니터링으로 액세스하지 않는 객체는 저렴한 계층으로 이동
		 - Frequent Access - Infrequent Access - Archive Access - Deep Archive Access
- Standard-IA(자주 사용되지 않는 데이터용)
	- 가끔 사용되지만 빠른 액세스가 필요한 경우
	- 30일을 기준으로 과금(하루만 보관해도 과금)
- One Zone-IA(자주 사용되지 않는 데이터용)
	- 단일 AZ
- Glacier Instant Retrieval(아카이브용)
	- 저렴한 비용으로 장기 보관
	- 과금 기간 : 90일
	- 검색 시간 : 밀리초
- Glacier Flexible Retrieval(아카이브용)
	- 저렴한 비용으로 장기 보관
	- 과금 기간 : 90일
	- 검색 시간 : 몇 분 ~ 몇 시간 (옵션 설정)
- Glacier Deep Retrieval(아카이브용)
	- 저렴한 비용으로 장기 보관
	- 과금 기간 : 180일
	- 검색 시간 : 몇 시간 (옵션 설정)

#### 객체 수명주기 관리
저장-삭제의 수명주기를 비용효율적으로 저장 되도록 관리하는 기능
- 버전별로 수명주기 정책을 적용할 수 있다
- S3 Storage Class Analysis  : 액세스 패턴 관찰, 스토리지 클래스를 옮길 시점을 알려준다

#### Glacier Vault Lock
아카이브 데이터를 저장하는 스토리지 컨테이너 서비스
- CLI, 코드를 통해서만 데이터 업로드
- 삭제, 편집등을 못하도록 정책을 Lock할 수 있음
- Write Once Read Many(WORM) 모델 적용
- Object Lock : 객체에 적용
	- Governance Mode : 필요에 따라 일부 사용자에게만 권한 부여
	- Compliance Mode : 모두 제한

#### 모니터링
- 서버 액세스 로깅 : S3 액세스 정보를 로그 파일로 버킷에 저장
	- 로그 파일을 운영버킷에 저장하면 무한루프 발생!!

#### 전송 성능 향상
- Transfer Acceleration(전송 가속화) : 장거리 파일 전송을 빠르고 안전하게 전송하는 기능
	- 엣지 로케이션을 활용해서 최적화된 네트워크 경로를 통한 라우팅 사용
	- 사용 사례
		- 전 세계에서 정기적으로 수 TB의 데이터를 전송하는 경우
		- S3 업로드 시 대역폭이 충분하지 않은 경우

- Multi Part Upload : 단일 파일을 분할하여 병렬로 S3에 업로드 
	- 최대 용량 5GB
	- 단일 객체가 100MB가 넘으면 Muiti Part 권장

#### 데이터 처리
 - 이벤트 알림 : S3 버킷에서 특정 이벤트 발생시 알림 기능
	 - SNS, SQS, Lambda, EventBridge
- S3 Object Lambda : 애플리케이션으로 데이터가 반환될 때 데이터를 처리하는 기능
	- 자체 코드를 작성해서 S3에서 검색한 데이터를 전송하기 전에 처리할 수 있다
- S3 Batch Operation : 대규모 배치 작업을 수행하는 기능
	- 모든 객체 암호화, 모든 객체 복사, 모든 객체 잠금설정, 모든 객체 태그등...
#### 스토리지 분석
- 인벤토리 : 사용자 정의일정, 객체 및 메타데이터의 플랫 파일 목록 제공
- Storage Lens : 객체 스토리지 사용, 활동 분석/시각화

#### 액세스 포인트
 공유 버킷에 연결하기 위한 고유한 액세스 포인트 정책을 가지는 네트워크 엔드 포인트
- 엔드포인트마다 별도의 정책
 
- 공유 버킷에 대한 액세스 문제점을 해결
	- 여러 권한 수준을 사용하는 다수의 애플리케이션에 대한 액세스를 제어하는 단일 버킷 정책이 필요
	- 애플리케이션이 더 커지면 버킷 정책 복잡도 증가

- 각 애플리케이션에 맞는 개별화된 액세스 포인트를 여러개 생성 가능
	- 예 : 재무팀은 재무관련 S3버킷만 접근 가능하도록 설정 가능

- 다중 리전 액세스 포인트 : 여러 리전의 버킷간의 자동 라우팅되는 액세스 포인트
	- 여러 리전의 있는 S3 버킷의 요청을 이행할 수 있는 글로벌 앤드 포인트를 사용한다
	- 글로벌 네트워크를 통해 상태가 액티브인 가장 가까운 S3 버킷으로 자동 라우팅

#### 기타 기능
- MountPoint For Amazon S3 : S3 버킷을 로컬 파일 시스템에 마운트해서 파일 스토리지 처럼 사용가능
	- EC2, ECS, EKS등 aws 서비스에서만 가능  
- 요청자 지불 버킷 (Requested Pays) 
	- 데이터 전송비용을 소유자가 아닌 요청자(다운로드, 업로드)가 지불
	- 데이터 저장비용을 소유자가 지불
- S3 데이터 검색 : SQL 쿼리문이나 다른 서비스를 사용해서 S3 데이터를 플랫폼 이동없이 바로 검색 가능