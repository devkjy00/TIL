## SQL파싱과 최적화
- 구조적, 집합적, 선언적 질의 언어
    - SQL은 결과집합을 구조적, 집합적으로 선언하지만 결과집합을 만드는 과정은 절차적이고 해당 프로시저를 만드는게 바로 옵티마이저이다
        - 옵티마이저가 프로그래밍을 대신 해주는 셈이다
        - SQL 최적화 : SQL -> 옵티마이저 -> 실행계획 -> 프로시저

- SQL 최적화 과정
    1. SQL 파싱
        1. 파싱 트리 생성
        2. Syntax 체크 : 문법 체크
        3. Semantic 체크 : 의미상 오류 체크1

    2. SQL 최적화
        - 옵티마이저로 다양한 실행경로를 생성/비교 후 효율적인 방법 선택
            - 성능을 결정하는 가장 핵심

    3. 로우 소스 생성
        - 로우 소스 생성기가 실제 실행 가능한 코드 또는 프로시저 형태로 포맷팅

- SQL 옵티마이저
    1. 쿼리를 수행할 후보 실행계획을 찾는다    
    2. 통계정보를 이용해 실행계획의 예상비용을 산정한다
    3. 최저 비용의 실행계획을 선택한다

- 실행계획과 비용
    - DBMS에는 실행경로를 미리볼 수 있는 기능이 있다
        - 실행계획에서 스캔 대상이 인덱스인지 테이블인지 확인하고 변경할 수 있다


- 옵티마이저 힌트 : 옵티마이저가 특정 방법을 서택하도록 SQL에 힌트를 작성할 수 있다
    - 주석 기호에 '+'를 붙이면 된다
        ```sql
        SELECT /*+ INDEX(A 고객_PK) */
        FROM 고객 A
        WHERE 고객ID = '...'
        ```
    - 주의 사항
        - 힌트 안에 인자를 나열할 때는 ','를 사용할 수 있지만 힌트와 힌트 사이에 사용하면 안된다
            ```sql
            /*+ INDEX(A A_X01) INDEX(B, B_X03) */ -> 모두 유효
            /*+ INDEX(C), FULL(D) */ -> 첫번째 힌트만 유효
            ```

        - 테이블을 지정할 때 스키마 명까지 명시하면 안된다
        - FROM 절 옆에 ALIAS를 지정했다면, 힌트에도 반드시 사용해야 한다
        


    
