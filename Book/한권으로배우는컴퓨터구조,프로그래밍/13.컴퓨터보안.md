## 보안과 프라이버시 
- ***위협모델(threat model)***
	- 위협 모델은 보안이 필요한 대상 목록과 각 보안 대상에 가해질 수 있는 공격을 열거해서, 이런 공격을 방어하는 방법을 설계할 수 있게 한다
	- 예상되는 위협에 따라서 적절한 보안이 이루어져야 한다, 공격비용은 비싸고 방어비용은 적게드는 보안이 목표이다 
	- 인터넷은 공격 비용을 줄여주고 방어비용은 줄여주지 못한다는 부작용이 있다

- ***신뢰***
	- 컴퓨터 보안에서 신뢰는 의존해야 하는 대상을 가리키는 말이다
	- 위협모델을 정할 떄 신뢰할 대상을 정해야 한다, 제어할 수 없는 대상을 신뢰할 때마다 보안은 악화된다
	- ***신뢰 위반***
		- 의도적(deliberate) : 클라이언트의 컴퓨터에 멀웨어(malware)같은 악의적 소프트웨어를 의도적으로 설치하는 것
		- 무능(incompetent) : 패스워드를 아는 사람은 누구든 안전하다라고 여기는 시스템처럼 위협을 인지하지 못한  '모호성에 의한 보안(security by obscurity)'
		- 부정직(disingenuous) : 거짓정보나 속이는 행동을 통해 시스템의 접근해서 보안을 약화시키는 것

- 물리적 보안 : 물리적으로 존재하는 자물쇠 같은 보안
- 통신 보안 : 크립토그래피(cryptography), 메시지를 암호화해서 보내면 수신자는 비밀 코드를 사용해 암호화된 메시지를 복호화한다
	- 신뢰대상을 속이거나 중간에서 통신을 가로채거나 변경하는등의 위협을 막는다

- ***컴퓨터 보안 : 물리적 보안과 통신 보안 문제가 결합되었다***
	- 서비스 거부(DoS, denial of service) : 서비스를 지속적으로 요청해서 다른 클라이언트가 서비스를 받지 못하도록 하는 것
	- 분산 서비스 거부 공격(DDoS, distributed denial of service) : 많은 사람이 동시에 서비스를 요청해서 과부화가 걸리도록 유도하는 공격
	- 프록시 사용으로 인해 공격자 추적이 어려워 졌다
		- 공격자는 다른 기계에 멀웨어를 설치하고 공격하도록 명령한다, 이런 구조는 트리구조를 이루는 데 최상위에서 명령,제어를 하는 메시지를 잡아내기는 어렵다
	
	- 일반적인 공격은 트릭을 사용해서 사용자가 자신의 컴퓨터에 소프트웨어를 직접 설치하게 많드는 '사회적' 공격이다
		- 전자우편이나 아무 usb에 들어있는 프로그램을 실행한다거나, 휴대폰에 아무 장치나 연결한다거나 하는 행동은 위험하다
		- 요즘은 웹 브라우저를 통한 공격으로 온라인 뱅킹 취약점을 공격하는 식의 공격이 있다
		
- 메타데이터와 감시
	- 암호화된 데이터에 대한 데이터만으로도 많은 정보를 얻을 수 있다

- 사회적 맥락
	- 보안의 두가지 측면
		- 보안을 구축하기 위한 기술
		- 개인의 보안과 사회전체의 보안 사이의 트레이드 오프
			- 온전히 기술적인 측면으로만 보안을 논의 할 수는 없다

- 인증과 권한부여
	- 인증(authentication) : 어떤사람이나 대상이 실제로 그 사람이나 대상임을 증명하는 과정
		- 생체정보가 패스워드 보다 흉내 내기가 더 쉽다
	- 권한부여(authorization) : 자격증명(credential)을 제공하는 사람만 접근을 허용하는것 

## 크립토그래피
- 암호화 기법을 사용하면 데이터의 위변조를 막거나 감지할 수 있다

- 스테가노그래피(steganography) : 특정 데이터를 다른 데이터 속에 감추는 방식이다
	- 송,수신자 사이에 연결의 자취가 남지 않기 때문에 비밀리에 통신하기 좋은 방법이다
	- 기술적으로 크립토그래피가 아니다

- 치환 암호 : 문자를 다른 문자로 치환해서 해석한다
	- 영어에서는 e, t, a, o, n 순서로 가장 많이 쓰이기 때문에 가장 많이 나온 문자에 대입할 수 있다
	- 간단한 치환 암호는 그리 안전하지 않다

- 전치 암호 : 문자의 위치를 뒤섞어서 암호화 한다
	- 스키테일 : 종이를 둥글게 말고 메시지를 가로로 한 줄로 적고 다른 줄에는 아무 메시지나 적는다

- 비대칭 암호 시스템 : 서로 연관된 키 쌍을 사용해서 public key로 암호화한 암호문은 private key로 복호화하는 비대칭 시스템이다 
	- 대칭 암호 시스템은 같은 키를 사용해서 보안이 취약하다
	- 트랩도어 함수(trapdoor function) : 한 방향으로는 계산하기 쉽지만 비밀 정보를 알지 못하면 반대로 계산이 어려운 함수로 공개키 암호에 사용된다
	- 비대칭 암호화는 비용이 많이든다
		- 키를 만들어내는 방법으로 디퍼-헬먼 키교환(DHKE), RSA 알고리즘이 있다
		- RSA보안 회사는 NSA에서 돈을 받고 클립토그래피 백도어를 설치해서 백도어를 아는 사람은 RSA를 해독할 수 있다

- 전방향 안정성 암호화 : 각 메시지마다 세션 키를 새로 만든다
- 암호학적 해시함수 : 몇몇 특성을 가진 해시함수만 암호화에 사용될 수 있고 해시함수는 단방향 함수이고 해시값 사이에 연관관계가 없다
	- MD5(message diagest#5) : 가장 널리쓰이던 해시 함수였지만 해쉬 충돌을 만드는 방법이 발견됬다
	- SHA-0, SHA-1 : SHA알고리즘의 변형으로 MD5대신 쓰이지만 NSA에서 개발되어서 신뢰하기 힘들다

- 디지털 서명 : 크립토그래피는 디지털 서명을 통해 데이터가 진본임을 검증할 수 있다
	- 정합성(integrity) : 메시지가 변조 됬는지 검증할 수 있다
		- 암호학적 해시값을 데이터 뒤에 추가하고 비밀키로 복호화 해서 변경됬는지를 판단할 수 있다
	
	- 부인방지(nonrequdiation) : 메시지 송신자가 송신을 부인하는 것을 방지 할 수 있다
		- 공개키와 비밀키는 연관되어 있기 때문에 메시지에 서명한 사람을 확신할 수 있다

	- 인증(authentication) : 연관된 세션키와 추가된 해시값으로 송신자와 데이터를 인증할 수 있다

- 공개키 인프라스트럭처(PKI, public key infrastructure)
	- 신뢰할 수 있는 제 3자 인증기관(CA)에서 사용자가 받은 공개키가 잘못된 키가 아니라 특정 당사자의 것임을 인증해준다
		- 인증기관은 키를 발행한 기관을 알고 그 인증기관의 키로 인증서(ITU)를 발행해 준다
	
	- 일반적으로 잘 작동하지만 신뢰 문제가 발생하거나 인증기관이 해킹 되거나 할 수도 있다 

- 블록체인(blockchain) 
	- 블록이 추가 될 때마다 이전 블록에 대한 암호학적 해시와 블록 생성시간을 추가한다, 이로 인해 연결되 블록의 체인이 생긴다
		- 블록은 해시, 타임스탬프, 데이터로 구성되서 연결된다
	
	- 블록 정보를 변조할 수있을 가능성은 거의 없다, 각 블록이 이전 블록에 대한 디지털 서명을 포함하고 있는 것과 같다
		- 블록체인을 공격하는 유일한 효율적 방법은 블록체인을 다루는 소프트웨어를 변경하는 방법 뿐이다
	
- 패스워드 관리
	- 이전에는 패스워드 파일에 패스워드가 평문으로 저장됬고 로그인은 문자열 비교 방식이었다
		- 파일에 접근만 하면 패스워드를 알 수 있다
	
	- 해법으로 패스워드를 암호학적 해시와 같은 형태로 저장하고 입력받은 패스워드를 암호화해서 비교한다
	- 패스워드 재사용은 전방향 안정성을 사용하지 않는 것과 같다

## 보안을 위한 소프트웨어 예방 조치
- 올바른 대상을 보호하라
	- 로그인된 상태, 잠금해제된 상태에서 다른 사람의 접근을 허용하면 안된다

- 로직은 세 번 체크하라
	- 로직의 오류는 공격에 활용될 수 있다

- 오류를 검사하고 올바르게 처리하라
- 기능이 많으면 취약점도 많다, 코드를 간단하게 해서 공격표면을 최소화하라
- 경계 내부에 머물러라
	- 버퍼 오버플로는 공격자들이 악용할 수 있는 버그의 예이다
	- 동적 할당을 피하고 정적 데이터를 사용하라

- 좋은 난수를 생성하기는 힘들다
	- 가장 흔한 난수 생성기는 시드를 사용하는 의사 난수를 생성한다
	- 하드웨어 난수 생성기는 회로를 통해 백도어를 만들고 이를 숨길 수 있기 때문에 사실 신뢰 할 수 없다
	- 보안이 좋은 난수에 달려있다면 난수를 생성하는 시스템을 반드시 이해해야 한다

- 네 코드를 알라
	- 서드파티 코드,라이브러리를 사용하는 경우 백도어가 있을 수 있다, 이는 물리적 인프라에 설치된 소프트웨어에서 더 자주 나타난다
	- 이런 부분에서 오픈 소스가 더 나을 수 있다

- 극단적 영리함은 적이다
	- 서드파티 코드의 기능중 이상하고 영리한 기능은 피하라, 소수가 쓰는 기능은 지원하지 않게 되고 버그 픽스가 되지 않을 수 있다

- 눈에 보이는 것을 이해하라
	- 사이드채널 공격(side-channel attack) : 프로그램 구현의 메타데이터나 부작용에 기반을 둔 공격 방법
		- 사이드 채널 공격은 은밀해서 시스템 개선을 고려해야 한다
	- 타이밍 공격(timing attack) : 처리되는 시간의 차이로 로직을 예상하고 공격하는 것

- 과다 수집하지 마라, 모아두지 마라
	- 보호해야할 대상이 많을 수록 보안을 취약하다
	- 민감한 데이터는 사용후 제거하라

- 동적 메모리 할당은 안전하지 않다
	- 메모리를 해제해도 데이터를 힙 영역에서 읽을 수 있다
	- 민감한 정보는 메모리 해제 전에 지워야 한다

- 가비지 컬렉션도 안전하지 않다
	- 민감한 문자열을 재 할당하면 새로 생성되서 지워지지 않고 지울 방법도 없다
	- SSD같은 메모리 칩에는 데이터를 분산 저장하는 부하 평탄화 기능으로 데이터를 기록해도 예전 데이터를 덮어쓴다고 보장 할수 없다


