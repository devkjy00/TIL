### 파이썬의 데코레이터
함수와 메서드의 기능을 쉽게 수정하기 위한 수단
```py
def func():
    ~~~
func = modifier(func)
# 데코레이터의 원래 구현형태이다

@modifier
def func():
# 데코레이터 이후의 나온것을 첫 인수값으로 받는다
# 사실상 문법적 설탕일 뿐이다
# func는 데코레이팅된 함수, 래핑된 객체이다
```
'데코레이터 디자인 패턴'과는 다른 의미

- 함수 데코레이터
    - 인자값의 유효성 검사, 기능을 새롭게 정의, 결과를 캐쉬 하는 등의 작업
    ```py
    # 특정 예외에 대해 3번 재시도하는 데코레이터
    def retry(operation):
        @wraps(operation)
        def wrapped(*args, **kwargs):
            for _ in range(3): # 3번 시도
                try:
                    return operation(*args, **kwargs)
                except:
                    # 예외처리
            raise fail
        return wrapped
    
    @retry
    def run_operation(x):
        ~~
    ``` 

- 클래스 데코레이터
    - 인자값을 함수가 아닌 클래스로 받는다
    - 남용할 경우 가독성을 떨어뜨리기 쉽다
    - 장점
        - 코드재사용의 이점
        - 여러 클래스가 특정 인터페이스를 따르도록 강제할 수 있다
        - 여러 클래스에 검사를 데코레이터하나로 할 수 있다
        - 클래스 기능을 보강할 수 있다
        - 유지 보수시에 데코레이터를 활용하면 기존 로직을 훨씬 쉽게 변경가능
    - 다른 유형의 데코레이터
            - 제너레이터, 코루틴, 데코레이터 중첩도 가능하다


    - 인자 전달
        - 중첩된 클로저 함수보다 클래스데코레이터가 가독성이 더 좋다
        - 중첩함수의 데코레이터
            ```py
            def with_retry(x,y):
                # 데코레이터의 괄호의 인수값을 받는다 
                def retry(operation):
                    # 함수를 인자로 받는다 
                    @wraps(operation)
                    def wrapped(~~):
                        ~~
                    
                    return wrapped
                return retry
            ```      
        - 데코레이터 객체
            ```py
            class deco:
                def __init__(self, x):
                    # 데코레이터의 괄호의 인수값을 받는다
                def __call__(self, func):
                    # 함수를 인자로 받는다
            @deco()
            def func():
            ```
            - @ 연산전 피라미터를 사용해 데코레이터 객체를 생성,```__init__()```를 호출한다
            - 그 다음 @ 연산이 호출되서 함수를 래핑하고 ```__call__()```를 호출한다
    
    - 데코레이터 활용
        - 피라미터 변환: 더 직관적 API를 노출하기위해 인수값이 어떤게 처리되는지 캡슐화하여 숨길수 있다
            - 사전조건,사후조건을 강제할 수도 있다
        - 코드 추적 : 함수의 실행을 로깅
            - 실제 함수의 실행 경로 추적
            - 메모리 사용량, CPU사용률등을 모니터링
            - 실행 시간 측정
            - 언제 실행되고 전달된 피라미터는 뭔지 로깅
        - 피라미터 유효성 검사
        - 재시도 로직 구현
        - 반복 작업을 데코레이터로 구현해서 클래스 단순화
