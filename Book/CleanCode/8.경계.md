외부 코드를 우리 코드에 깔끔하게 통합해야 한다

- ### 외부 코드 사용하기
    - 제공자는 적용성을 최대한 넓히려 애쓰고 사용자는 자신의 요구에 집중하는 인터페이스르 바란다
        - 시스템 경계에서 문제가 생길 소지가 많다

    - Map을 예로 
        - Map의 기능과 유연성은 유용하지만 그만큼 위험하다
            - 객체 유형을 제한 하지 않는다
            - Object타입을 매번 형변환 해줘야 한다

        - 제네릭스를 사용할 수 있다
            - 인터페이스가 변할 경우, 수정할 코드가 많아진다 
        
        - 이렇듯 너무 유연한 객체는 클래스안에 넣어서 기능을 직접 제한할 수 있다
            - 제네릭스 사용 여부를 객체 내에서 결정, 사용자는 몰라도 괜찮다
            - 나머지 프로그램에 전혀 영향을 미치지 않는다
            - 프로그램에 필요한 인터페이스만 제공한다
                - 이해하기 쉽고 오용하기 어렵다
                - 설계 규칙과 비즈니스 규칙을 따르도록 강제 할 수 있다 
        
        - Map과 같은 경계 인터페이스를 이용할 때는 이를 이용하는 클래스나 클래스 계열 밖으로 노출 되지 않도록 주의 한다
            - 인스턴스를 공개 API의 인수로 넘기거나 반환값으로 사용하지 않는다
        
- ### 경계 살피고 익히기
    - 외부 패키지도 사용할 코드라면 테스트 하는 편이 바람직 하다
    
    - *학습테스트*
        - 간단한 테스트 케이스를 작성해서 외부 코드를 익히는 방법이다
        - API를 사용하려는 목적에 초점을 맞춰서 빠르게 배울수 있다
        - 방법
            - 사용하려는 방식대로 외부 API를 호출하는 테스트 케이스를 작성한다
            - 발생한 오류를 해결하기위해 문서, 구글을 찾아본다
            - 원하는 결과를 얻을 때까지 반복
            - 결과를 얻으면 독자적인 클래스로 감싸서 캡슐화 한다
                - 나머지 프로그램은 해당 라이브러리의 경계 인터페이스(어떻게 사용하는지)를 몰라도 된다
        
        - 필요한 지식만 빠르게 얻을 수 있다
        - 패키지의 새 버전이 나와도 학습 테스트를 통해서 호환 되는지 바로 확인 할 수 있다
        
            
- ### 아직 존재하지 않는 코드를 사용하기
    - 아는 코드와 모르는 코드를 분리하는 경계, 전혀 지식이 없는 영역의 코드 영역도 있다
    - 지식이 없는 라이브러리의 경계에서 아주 먼 부분에서 부터 구현을 하면 필요한 경계 인터페이스가 무엇인지 점점 알게 된다 
        - 해당 경계를 인터페이스로 정의하고 인터페이스에 따라서 구현 하면된다
        - 코드 가독성도 높아지고 코드 의도도 분명해진다
        - 인터페이스를 구현한 가짜객체(mock)를 만들어서 테스트를 하기에도 좋다
    
- ### 깨끗한 경계
    - 경계에서는 변경이 자주 일어난다
    - 경계에 위치하는 코드는 깔끔히 분리해야 하고 기대치를 정의하는 테스트 케이스도 정의해야 한다   
    - 새로운 클래스로 경계를 감싸거나 ADAPTER패턴을 사용 할 수도 있다

