# 28 테스트와 QA기초

- 테스트의 핵심 목표
    - 문제를 사전에 찾아서 위험 부담을 줄이는 것

### 일반적 테스트 유형
- 블랙박스 테스트
    - 소프트웨어를 내부가 보이지 않는 검은 상자라고 생각하고 진행하는 테스트
    - 입력과 출력만 신경써서 정해진 입력을 넣고 정해진 출력이 나오는지 보는 것이다

- 화이트박스 테스트
    - 시스템의 내부 구조를 이해하고 나서 각 기능에 따라서 테스트 시나리오를 만드는 테스트

- 인수 테스트
    - 소프트웨어가 고객의 요구사항이나 기대에 맞게 제작되었는지 확인하는 테스트, 시스템을 전체적으로 점검하는 테스트이다

- 자동 테스트
    - 결과 검증이 자동으로 이루어지는 모든 테스트

- 회귀 테스트
    - 시스템이 과거에 작동했던 방식 그대로 작동하고 있는지 확인하는 테스트
    - 신기능이 기존 기능을 망가뜨릴 위험이 항상 있기 때문에 중요하다
    - 자동 테스트는 대부분 회귀테스트이다

- 기능 테스트
    - 시스템의 기능을 대상으로 진행하는 테스트

- 탐색적 테스트
    - 어플리케이션을 탐색하면서 예상치 못한 문제를 찾는 방법의 테스트
    - 다른 테스트로는 알아내기 어려운 버그를 찾을 수도 있다

- 그 외
    - 부하 테스트, 성능 테스트, 회복 테스트, 보안 테스트, 스트레스 테스트, 사용성 테스트

### 테스트 절차
- 계획
    - 테스트 방식, 전략
    - 어떤 유형의 테스트를 할것인지
    - 어떤 기능을 테스트 할것인지
    - 일정
- 요구사항 혹은 기능을 기반으로 테스트를 설계한다
    - 테스트 케이스 목록, 실행 조건의 유형등을 정리한다

- 테스트 실행 결과는 평가되고 보통 버그 추적 시스템에 기록되고 우선순위를 매겨서 개발자에게 수정요청을 한다

### 애자일 팀의 테스트 방식
- 코드를 작성하기 전 테스트 케이스와 시나리오를 먼저 개발한다
- 테스트 단계를 잘게 나눠서 피드백을 더 자주 받아야 한다
- 짧은 주기로 새로운 소프트웨어를 만들기 때문에 회귀 테스트가 중요하다


# 테스트 주도 개발과 단위 테스트
- 단위 테스트 코드에는 단언문이 꼭 들어가야한다

### 단위 테스트
- 코드를 가능한 작은 단위에서 고립된 상태로 실행해보는 테스트
- 단위 테스트는 회귀 테스트가 되어야 한다
- 코드의 특정 단위가 아주 낮은수준에서 지켜야 하는 절대적 요구사항을 명시하는게 단위 테스트이다
- 특정 상황에서 특정 입력을 넣을 때 어떤 결과가 출력되어야 하는 지 명시한다
- 테스트 통과 여부를 결정하는 단언문이 있어야한다

- 장점
    - 코드 설계가 개선된다
        - 코드를 가능한 작은 단위로 고립시켜야 하기 때문에 설계의 문제점을 알게된다
    
    - 자동화된 회귀 테스트를 만들게 된다
        - 동작이 저수준에서 반드시 지켜야 할 명세가 되기도 한다

- 단위 테스트는 내부 구조를 테스트하기 때문에 구조가 변하면 다시 작성해야 한다

### 테스트 주도 개발(TDD)
- 기본 개념은 코드를 작성하기 전에 테스트부터 작성해서 그 코드가 해야 할 일을 명확하게 정의하는 명세로 쓰는 것이다
- 코드 생산을 단위 테스트가 주도하는 것을 의미
-  장점
    
    - 테스트를 명세로 쓸 수 있게 해준다
    - 구현하기전 무엇을 구현할 지 제대로 이해하게 된다
    - YAGNI 원칙을 지킬 수 있게 된다

- ***모의 객체(mock)***
    - 완전히 고립시킨 상태로 존재 할 수 있는 클래스는 거의 없기 때문에 이런 문제를 해결 하기 위해 사용된다
    - 미리 설정한 값을 써서 의존성이 있는 기능을 흉내 내어 테스트 할 클래스를 고립시키게 도와 준다
