# 구조적 API 개요
> 학습내용
- 구조적 API의 특징
- 스파크 구조적 데이터 타입 유형
- 구조적 API 실행과정

### 구조적 API의 특징
- 배치(batch) : 요청을 모아서 한번에 처리
- 스트리밍(streaming) : 데이터가 들어올 때마다 지속적으로 처리
- 각 처리 간의 변환도 가능

### 스파크 구조적 데이터 타입 유형
- 유형과 특징
	- DataFrame, DataSet 모두 행(row)과 열(column)을 가지는 분산 테이블의 컬렉션

- 스키마 : 컬럼별로 데이터 타입과 크기를 정의해야 한다

- DataFrame, DataSet 비교
	|구분|DataFrame|DataSet|
	|-|-|-|
	|컬럼 타입 정의|비타입형|타입형|
	|데이터 타입 확인 시점|런타임|컴파일 타임|
	|JVM 필요여부|선택적|필수|
	|동작가능 언어|모든 언어| 자바, 스칼라|

- 스파크 데이터 타입
	```py
	from pyspark.sql.types import *
	b = ByteType()
	```
	- ByteType : int, long , 1byte
	- ShortType : int, long, 2byte 
	- IntegerType, LongType, FloatType, DoubleType, StringType, BooleanType, ArrayType, TimestampType, DateType	

### 구조적 API 실행과정
- 전체적인 흐름
	- 코드작성 -> 논리적 실행계획 -> 검증된 논리적 실행계획(카탈로그로 분석) -> 최적화된 논리적 실행계획 -> 물리적 실행계획(추가적 최적화) -> 실행(RDD 실행)
